var app=angular.module("app",["ngSanitize","ngRoute"]);app.config(["$interpolateProvider",function(e){e.startSymbol("<#").endSymbol("#>")}]);var popupBehavior=function(e){"open"==e&&($("section.popup").css({display:"block"}),setTimeout(function(){$("section.popup").addClass("open"),$("section.popup .inner-content").addClass("open"),$("html, body").addClass("overflowHidden")},10)),"close"==e&&($("html, body").removeClass("overflowHidden"),$("section.popup").removeClass("open"),$("section.popup .inner-content").removeClass("open"),setTimeout(function(){$("html, body").removeClass("overflowHidden"),$("sectiosn.popup").css({display:"none"})},300))};$(document).ready(function(){picturefill()}),app.value("config",{baseUrl:"http://localhost:8080",regEmail:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/}),app.value("elasticCosts",{cpu:.05376,ram:.05376,storage:.0012,snapshot:.0012,firewall:.08857,loadBalancer:.11948,vlan:.11008,staticIP:.00927,winServer:.02217,mssqlWeb:.06357,mssqlStandard:.70379}),app.value("plansOptions",{plans:[{elasticLight:[{description:"Plano anual: R$ 570,36 (Economia de R$ 244,44**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_LIGHT_12_MESES"},{description:"Plano semestral: R$ 325,92 (Economia de R$ 81,48**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_LIGHT_6_MESES"},{description:"Plano trimestral: R$ 183,33 (Economia de R$ 20,37**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_LIGHT_3_MES"},{description:"Plano mensal: R$ 67,90",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_LIGHT_1_MES"}],elasticOneHundred:[{description:"Plano anual: R$ 917,04 (Economia de R$ 161,76**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_100_12_MESES"},{description:"Plano semestral: R$ 485,46 (Economia de R$ 53,94**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_100_6_MESES"},{description:"Plano trimestral: R$ 256,23 (Economia de R$ 13,47**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_100_3_MESES"},{description:"Plano mensal: R$ 89,90",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_100_1_MES"}],elasticTwoHundred:[{description:"Plano anual: R$ 1.733,04 (Economia de R$ 305,76**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_200_12_MESES"},{description:"Plano semestral: R$ 917,46 (Economia de R$ 101,94**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_200_6_MESES"},{description:"Plano trimestral: R$ 484,23 (Economia de R$ 25,47**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_200_3_MESES"},{description:"Plano mensal: R$ 169,90",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_200_1_MES"}],elasticFiveHundred:[{description:"Plano anual: R$ 4.079,04 (Economia de R$ 719,76**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_500_12_MESES"},{description:"Plano semestral: R$ 2.159,46 (Economia de R$ 239,94**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_500_6_MESES"},{description:"Plano trimestral: R$ 1.139,73 (Economia de R$ 59,97**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_500_3_MESES"},{description:"Plano mensal: R$ 399,90",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_500_1_MES"}],elasticThousand:[{description:"Plano anual: R$ 7.649,46 (Economia de R$ 1.349,76**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_1000_12_MESES"},{description:"Plano semestral: R$ 4.049,46 (Economia de R$ 449,94**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_1000_6_MESES"},{description:"Plano trimestral: R$ 2.137,23 (Economia de R$ 112,47**)",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_1000_3_MESES"},{description:"Plano mensal: R$ 749,90",value:"https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_1000_1_MES"}]}]}),app.config(["$routeProvider",function(e){e.when("/planos",{templateUrl:"/elastic/plans",controller:"plansController"}).when("/simulador",{templateUrl:"/elastic/simulator",controller:"simulatorController"}).when("/beneficios",{templateUrl:"/elastic/benefits"}).when("/duvidas-frequentes",{templateUrl:"/elastic/faq"}).when("/",{templateUrl:"/shared/blank",controller:"homeController"})}]),app.controller("contactController",["$scope","$http","$timeout","config","$window",function(e,t,a,s,o){e.regEmail=s.regEmail,e.send=function(e){}}]),app.controller("flyerController",["$scope","$http","$timeout","config","$window","plansOptions",function(e,t,a,s,o,l){e.regEmail=s.regEmail;var n=function(e){for(var t=window.location.search.substring(1),a=t.split("&"),s=0;s<a.length;s++){var o=a[s].split("=");if(o[0]==e)return o[1]}};e.utm={source:n("utm_source"),medium:n("utm_medium"),campaign:n("utm_campaign")},e.send=function(t){e.sending=!0;var s=function(e,t,a,s){200==e.status&&"load"==e.statusText?o(e,t,a,s):errorCallback(e,t,a,s)},o=function(t,s,o,l){e.sending=!1,e.newsletterForm.$setPristine(),delete e.newsletter,e.message="Enviado com sucesso!",e.statusClass="success",a(function(){e.message=""},6e3),e.$apply()},l=function(t,s,o,l){e.sending=!1,e.message="Ocorreu um erro ao enviar, tente novamente.",e.statusClass="failed",a(function(){e.message=""},6e3),e.$apply()},n={name:"",email:t.email,elqFormName:"LandingPageCorporativo",elqSiteId:"1656554376",elqCustomerGUID:t.guid,elqCookieWrite:0,utm_source:e.utm.source,utm_medium:e.utm.medium,utm_campaign:e.utm.campaign};$.ajax({url:"https://s1656554376.t.eloqua.com/e/f2",type:"POST",contentType:"application/x-www-form-urlencoded;charset=utf-8",data:n,dataType:"jsonp",complete:s,failure:l})}}]),app.controller("homeController",["$scope","$http","$timeout","config","$window","$compile","plansOptions",function(e,t,a,s,o,l,n){e.plansOptions=n.plans[0],e.regEmail=s.regEmail,e.openPlanList=function(t){var s=$("#"+t),o=$("#popup-view");$("section.popup").addClass("plans"),$("#popup-view").addClass("plans-list"),popupBehavior("open"),a(function(){o.html(l(s.html())(e))},300),a(function(){o.addClass("loaded")},600)},e.openUrl=function(e){o.open(e,"_blank")}}]),app.controller("plansController",["$scope","$http","$timeout","config","$window","$compile","plansOptions",function(e,t,a,s,o,l,n){if(e.plansOptions=n.plans[0],larguraTela>=998){var r=document.querySelectorAll("section.plans")[0],i=document.querySelectorAll("ul.plans-list")[0];r.style.height=i.offsetHeight+80+"px",e.listShowing=1}e.openPlanList=function(t){var s=$("#"+t),o=$("#popup-view");$("section.popup").addClass("plans"),$("#popup-view").addClass("plans-list"),popupBehavior("open"),a(function(){o.html(l(s.html())(e))},300),a(function(){o.addClass("loaded")},600)},e.openUrl=function(e){o.open(e,"_blank")}}]),app.controller("questionsController",["$scope","$http","$timeout","config","$window",function(e,t,a,s,o){e.regEmail=s.regEmail,e.send=function(s){e.sending=!0,e.submitted=!0,t.post("/contacts/send",s).success(function(t,s){e.sending=!1,e.questionForm.$setPristine(),delete e.question,e.statusClass="success",a(function(){e.message="",popupBehavior("close")},2e3)}).error(function(t,a){e.sending=!1,e.message="Ocorreu um erro ao enviar, tente novamente",e.statusClass="failed"})}}]),app.controller("simulatorController",["$scope","$http","$timeout","config","$window","elasticCosts",function(e,t,a,s,o,l){var n=function(){return{cpu:1,ram:.5,storage:15,snapshot:0,staticIP:0,firewall:0,loadBalancer:0,vlan:0,staticIP:0,winServer:0,mssqlWeb:0,mssqlStandard:0}},r=function(){return{showSelectionBar:!0,interval:2e3,stepsArray:[]}},c=!1;e.regEmail=s.regEmail,e.servers=[n()],e.elasticCosts=l,e.stats={calculated:!1,elasticHour:0,elasticExtra:0,elasticMonth:0,elasticPlanValue:0,elasticPlanName:"",colorButton:""};var p=function(){for(e.sliderOptions={cpu:r(),ram:r(),storage:r(),snapshot:r(),staticIP:r()},i=1;i<=32;i++)e.sliderOptions.cpu.stepsArray.push(i);for(e.sliderOptions.ram.stepsArray.push(.5),i=1;i<=128;i++)e.sliderOptions.ram.stepsArray.push(i);for(e.sliderOptions.storage.stepsArray.push(15),i=2;i<=500;i++)e.sliderOptions.storage.stepsArray.push(10*i);for(i=0;i<=20;i++)e.sliderOptions.staticIP.stepsArray.push(i)},u=function(t,a,s){if(e.servers[t][a]&&!s[t][a])switch(a){case"winServer":e.servers[t].mssqlWeb=!1,e.servers[t].mssqlStandard=!1;break;case"mssqlWeb":e.servers[t].winServer=!1,e.servers[t].mssqlStandard=!1;break;case"mssqlStandard":e.servers[t].winServer=!1,e.servers[t].mssqlWeb=!1}},d=function(t,a){if(null!=e.daysInUse&&null!=e.hoursInDay){var s=0;e.servers.forEach(function(e,t){for(var o in e)l[o]&&e[o]&&("winServer"==o||"mssqlWeb"==o||"mssqlStandard"==o?(u(t,o,a),s+=e[o]*(l[o]*e.cpu)):s+="snapshot"==o?e[o]*(l[o]*e.storage):l[o]*e[o])}),e.stats.elasticHour=s,e.stats.elasticMonth=e.stats.elasticHour*e.daysInUse*e.hoursInDay,e.elasticTotal=e.stats.elasticMonth+e.stats.elasticExtra,e.stats.elasticMonth<100?(e.stats.elasticPlanName="Elastic Light",e.stats.elasticPlanValue=75,e.linkToBuy="https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_LIGHT_1_MES"):e.stats.elasticMonth>=100&&e.stats.elasticMonth<=189?(e.stats.elasticPlanName="Elastic 100",e.stats.elasticPlanValue=100,e.linkToBuy="https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_100_1_MES"):e.stats.elasticMonth>=189&&e.stats.elasticMonth<=471?(e.stats.elasticPlanName="Elastic 200",e.stats.elasticPlanValue=200,e.linkToBuy="https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_200_1_MES"):e.stats.elasticMonth>=471&&e.stats.elasticMonth<=938?(e.stats.elasticPlanName="Elastic 500",e.stats.elasticPlanValue=500,e.linkToBuy="https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_500_1_MES"):e.stats.elasticMonth>938&&(e.stats.elasticPlanName="Elastic 1000",e.stats.elasticPlanValue=1e3,e.linkToBuy="https://loja.cloudalgartelecom.com.br/index.php?redirect=ELASTIC_1000_1_MES");var o=e.stats.elasticMonth-e.stats.elasticPlanValue;if(o<=0?e.stats.elasticExtra=0:e.stats.elasticExtra=numberFormat(o,0,",","."),e.stats.elasticHour=numberFormat(e.stats.elasticHour,3,",","."),e.stats.elasticMonth=numberFormat(e.stats.elasticMonth,0,",","."),!$(".footer-collapse").hasClass("active")&&larguraTela>=998&&$(".footer-collapse").trigger("click"),!c){c=!0;var n=$("section.simulator form.times").offset();TweenMax.to(window,.5,{scrollTo:{y:n.top,x:0}})}e.stats.calculated=!0,e.$broadcast("rzSliderForceRender");var r={servidores:e.servers,diasEmUso:e.daysInUse,horasPorDia:e.hoursInDay,elasticHora:e.stats.elasticHour,elasticMes:e.stats.elasticMonth,elasticPlano:e.stats.elasticPlanName,elasticValor:e.stats.elasticPlanValue,elasticExtra:e.stats.elasticExtra};localStorage.setItem("simulator",JSON.stringify(r)),e.elasticTotal<1e3?e.stats.colorButton="contract":e.elasticTotal>1e3&&(e.stats.colorButton="consulting")}else e.stats.calculated=!1,c=!1,localStorage.setItem("simulator",null)};e.addServer=function(){var t=$("ul.servers").offset();larguraTela>=998&&(TweenMax.to(window,.5,{scrollTo:{y:t.top-65,x:0}}),e.servers.push(n()),e.pluginsInit()),larguraTela<=997&&(TweenMax.to(window,.5,{scrollTo:{y:t.top-90,x:0}}),a(function(){e.servers.push(n()),e.pluginsInit()},510))},e.removeServer=function(t){window.confirm("Tem certeza que deseja remover esse servidor?")&&e.servers.splice(t,1)},e.pluginsInit=function(){a(function(){tooltip()},10)},e.buy=function(){0!=e.stats.elasticExtra?popupBehavior("open",".simulator-popup"):o.open(e.linkToBuy)},e.$watch("servers",d,!0),e.$watch("daysInUse",d,!0),e.$watch("hoursInDay",d,!0),e.pluginsInit(),p(),$("#footer").addClass("hidden")}]);